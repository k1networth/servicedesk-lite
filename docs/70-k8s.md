# Kubernetes (план)

Этот документ описывает, что будет сделано в Iteration 3 (k8s deploy). На текущей стадии стек работает в compose.

## 1) Workloads (stateless)
- ticket-service: Deployment + Service
- outbox-relay: Deployment + Service (metrics)
- notification-service: Deployment + Service (metrics)

Для всех:
- readiness/liveness probes
- requests/limits
- terminationGracePeriodSeconds

## 2) Масштабирование
- HPA для ticket-service (CPU)
- (опц) HPA для relay/consumer (CPU или custom metric по lag)

## 3) HA примитивы
- PDB (минимально)
- topology spread / anti-affinity
- rolling update strategy (maxUnavailable=0 для ticket-service)

## 4) Dependencies
В дипломе можно описать 2 режима:
- Local/demo: Kafka+Postgres в k8s (простая установка)
- Prod-oriented: операторы/managed сервисы

## 5) Ingress
- ingress-nginx/traefik
- маршрутизация на ticket-service

Подробный чек-лист задач — docs/TODO.md.
